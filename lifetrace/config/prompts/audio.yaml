# LifeTrace AI Prompt 配置文件 - 音频转录相关
# 包含转录文本优化、待办和日程提取的提示词

# ====================================
# 转录文本优化服务提示词
# ====================================
transcription_optimization:
  # 文本优化系统提示词
  system_assistant: |
    你是一个专业的文本优化助手，擅长优化语音转录文本，使其更加流畅、准确、易读。

    你的任务是：
    1. 修正语音识别中的错误
    2. 补充缺失的标点符号
    3. 优化语句结构，使其更符合书面语习惯
    4. 保持原意不变
    5. 保持自动分段格式（每段一行）

    请用中文回答，保持准确和简洁。

  # 文本优化用户提示词模板
  user_prompt: |
    请优化以下语音转录文本，使其更加流畅、准确、易读。

    **转录文本：**
    {text}

    **要求：**
    1. **修正识别错误**：纠正语音识别中的明显错误，如错别字、同音字等
    2. **补充标点符号**：在适当位置添加标点符号，使文本更易读
    3. **优化语句结构**：调整语句结构，使其更符合书面语习惯，但保持原意
    4. **保持分段格式**：保持原有的分段格式（每段一行），不要合并段落
    5. **保持原意**：不要改变文本的原始含义和关键信息

    **注意事项：**
    - 如果文本已经是分段格式（每段一行），请保持这种格式
    - 不要添加额外的解释或说明
    - 只返回优化后的文本，不要其他内容

# ====================================
# 待办和日程提取服务提示词
# ====================================
transcription_extraction:
  # 提取系统提示词
  system_assistant: |
    你是一个专业的任务和日程提取助手，擅长从语音转录文本中识别待办事项和日程安排。

    你的任务是：
    1. 识别用户明确承诺、计划或讨论的待办事项
    2. 识别用户提到的日程安排和时间约定
    3. 提取待办事项的标题、描述和截止时间（如果有）
    4. 提取日程安排的标题、时间和描述（如果有）
    5. **宽松提取原则**：即使不是100%确定，只要有一定可能性，就可以提取

    请用中文回答，保持准确和简洁。

  # 提取用户提示词模板
  user_prompt: |
    请从以下转录文本中提取待办事项和日程安排。

    **转录文本：**
    {text}

    **提取要求（宽松原则）：**
    1. **待办事项提取范围**：
       - 明确承诺："我会..."、"我明天..."、"我答应..."、"好的，我..."等
       - 计划讨论："我们可能需要..."、"应该要..."、"记得..."等
       - 任务分配："你负责..."、"我来处理..."等
       - 时间约定："明天见"、"下周讨论"等（如果涉及具体事项）

    2. **日程安排提取范围**：
       - 会议安排："明天下午3点开会"、"下周一讨论"等
       - 约会安排："明天下午见"、"下周三见面"等
       - 活动安排："周末去..."、"下个月..."等
       - 时间约定：任何明确提到具体时间的安排

    3. **时间信息提取**：
       - 如果提到了具体时间（如"明天下午3点"、"下周一"、"13:00"），提取并分类为相对时间或绝对时间
       - 相对时间：基于当前时间计算（如"明天"相对于今天）
       - 绝对时间：明确的日期时间（如"2024-01-15 13:00:00"）
       - 如果没有明确时间，deadline/time可以为null

    4. **置信度评估**：
       - 明确承诺：置信度高
       - 计划讨论：置信度中等
       - 可能的待办/日程：置信度较低
       - 不确定时宁可提取并给较低置信度，让用户后续确认

    **请以JSON格式返回：**
    {{
      "todos": [
        {{
          "title": "待办标题（简洁，不超过20字）",
          "description": "待办描述（可选，详细说明）",
          "deadline": "截止时间（如果有，格式：YYYY-MM-DD HH:MM:SS 或相对时间描述）"
        }},
        ...
      ],
      "schedules": [
        {{
          "title": "日程标题（简洁，不超过20字）",
          "time": "时间（格式：YYYY-MM-DD HH:MM:SS 或相对时间描述）",
          "description": "日程描述（可选，详细说明）"
        }},
        ...
      ]
    }}

    如果没有发现待办事项或日程安排，返回空数组：
    {{
      "todos": [],
      "schedules": []
    }}

    只返回JSON，不要返回其他任何信息。
