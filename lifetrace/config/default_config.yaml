# LifeTrace 默认配置文件

# 基础目录配置
base_dir: 'data'
database_path: 'data/lifetrace.db'
screenshots_dir: 'screenshots'

# 服务器配置
server:
  host: '127.0.0.1'
  port: 8000

# 录制配置
record:
  interval: 1  # 截图间隔（秒）
  screens: 'all'  # 截图屏幕：all 或屏幕编号列表
  auto_exclude_self: true  # 自动排除LifeTrace自身窗口
  blacklist:
    enabled: false  # 是否启用黑名单功能
    apps: []  # 应用黑名单，使用友好名称，例如: ["微信", "QQ", "钉钉"]
    windows: []  # 窗口标题黑名单，例如: ["记事本", "计算器"]

# OCR配置
ocr:
  enabled: true
  use_gpu: false
  language: ['ch', 'en']
  check_interval: 5  # 数据库检查间隔（秒）
  confidence_threshold: 0.5

# 存储配置
storage:
  max_days: 30  # 数据保留天数
  deduplicate: true  # 启用去重

# 处理配置
processing:
  batch_size: 10
  queue_size: 100

# 一致性检查配置
consistency_check:
  interval: 300  # 一致性检查间隔（秒）

# 向量数据库配置
vector_db:
  enabled: true  # 启用向量数据库
  collection_name: 'lifetrace_ocr'  # 集合名称
  embedding_model: 'shibing624/text2vec-base-chinese'  # 嵌入模型
  rerank_model: 'BAAI/bge-reranker-base'  # 重排序模型
  persist_directory: 'vector_db'  # 持久化目录
  chunk_size: 512  # 文本块大小
  chunk_overlap: 50  # 文本块重叠
  batch_size: 32  # 批处理大小
  auto_sync: true  # 自动同步
  sync_interval: 300  # 同步间隔（秒）

# 多模态向量数据库配置（图像+文本联合嵌入）
multimodal:
  enabled: false  # 禁用多模态功能以节省内存（~600-800MB）
  text_weight: 0.6  # 文本权重
  image_weight: 0.4  # 图像权重
  # 注意：启用多模态需要安装额外依赖：pip install torch transformers clip-by-openai

# 同步服务配置
sync_service:
  enable_file_monitor: true  # 启用文件监控
  enable_consistency_check: true  # 启用一致性检查
  consistency_check_interval: 300  # 一致性检查间隔（秒）
  vector_sync_interval: 600  # 向量数据库同步间隔（秒）
  file_monitor_delay: 2.0  # 文件监控延迟（秒）
  cleanup_orphaned_files: true  # 清理孤立文件
  log_level: 'INFO'  # 日志级别

# 日志配置
logging:
  level: 'INFO'
  log_path: 'data/logs/'

# LLM配置
llm:
  llm_key: 'YOUR_LLM_KEY_HERE'  # LLM 密钥，需要用户配置
  base_url: 'YOUR_BASE_URL_HERE'  # LLM API基础URL
  model: 'qwen3-max'  # 使用的模型名称
  temperature: 0.7  # 温度参数
  max_tokens: 2048  # 最大token数

# 聊天配置
chat:
  local_history: true  # 是否启用本地历史记录
  history_limit: 6  # 历史记录条数限制
